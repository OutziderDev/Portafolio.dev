---
import GithubIcon   from "../assets/icons/Github.svg"
import CvFileIcon from "../assets/CvFile.astro"
import LinkedInIcon from "../assets/LinkedIn.astro"
import Gmail from "../assets/Gmail.astro"
import PillItem from "./PillItem.astro"

---
<div class="flex flex-col gap-y-2 md:flex-row items-center justify-center mt-7 gap-x-3 text-white   font-Montserrat">
  <PillItem href="https://github.com/OutziderDev/">
    <GithubIcon class="size-6 fill-white group-hover:fill-black" />
    GitHub
  </PillItem>
  <PillItem href="https://www.linkedin.com/in/luis-barrios-de-le%C3%B3n-196401130/">
    <LinkedInIcon class="size-6 fill-cyan-500 group-hover:fill-cyan-500" />
    LinkedIn
  </PillItem>
  <PillItem href="/LuisBarriosCV.pdf">
    <CvFileIcon class="size-6  group-hover:fill-teal-500" />
    Currículum
  </PillItem> 
  <button
    type="button" 
    id="copyButton" 
    class="p-2 border border-gray-400/50 rounded-lg 
      flex gap-x-2 group
      hover:bg-white hover:text-black hover:scale-110 
      transition-all duration-300">
    <Gmail class="size-6"/>
    Gmail
  </button>

</div>
<div id="tooltip" class="invisible animate-bounce mt-4 text-green-500 border border-green-500 self-center p-2 rounded-xl transition-all">
  <p>¡Correo Copiado! Utiliza Ctrl + v</p>
</div>

<script>
  const email = "luisbarrios0110@gmail.com"
  const copyButton = document.getElementById("copyButton")!
  const tooltip = document.getElementById("tooltip")!

  const toggleTooltip = () => {
    if (tooltip.classList.contains("invisible")) {
      tooltip.classList.remove("invisible");
      tooltip.classList.add("visible");

      setTimeout(() => {
        tooltip.classList.remove("visible");
        tooltip.classList.add("invisible");
      }, 1500);
      
    }
  };

  const copyToClipboard = () => {
    navigator.clipboard.writeText(email)
  };

  copyButton.addEventListener("click", () => {
    copyToClipboard(); // Copiar al portapapeles
    toggleTooltip(); // Mostrar el tooltip
  });
</script>